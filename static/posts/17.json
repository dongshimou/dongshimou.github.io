{"title":"遇到的一个js的~~玄学~~问题","author":"skadi","date":"2017-10-13 11:08","tags":["JavaScript","玄学","Date","Sort"],"content":"<p>整理这个posts的排序的时候遇到了一个<del>玄学</del>问题....</p>\n<p><code>2017-05-23 15:54</code> 和 <code>2017-05-23 11:07</code></p>\n<p>我的1.md和2.md的时间.\n但是莫名其妙的是 <code>2017-05-23 15:54</code> 排在 <code>2017-05-23 11:07</code> \n前面.</p>\n<p>然而我单独写了<code>test.js</code>拿来试md的时间的时候.又正常了.\n然而在我的网站的build脚本里面却怎么都不对.</p>\n<p>QWQ,找了半天发现是js的compare functor 的问题.</p>\n<p>写多了cpp,以为比较就两个值 <code>true</code> or <code>false</code>.</p>\n<p>所以就写成了</p>\n<pre><code>results.sort((a, b) =&gt; {\n  return a&gt;b;\n});\n</code></pre>\n<p>结果发现居然要返回<code>&gt;0``&lt;0``==0</code>三种情况.</p>\n<pre><code>results.sort((a, b) =&gt; {\n    let ad = a.date;\n    let bd = b.date;\n    if (ad &gt; bd)\n        return -1;\n    else if (ad &lt; bd)\n        return 1;\n    else\n        return 0;\n})\n//时间倒序排\n</code></pre>\n<p>改了之后终于能正确按照时间排序了.</p>","iso8601Date":"2017-10-13T11:08:00+08:00","basename":"17","prev":"effective_cpp_01","next":"16"}