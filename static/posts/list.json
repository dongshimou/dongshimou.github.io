[{"title":"绝望~~~","author":"skadi","date":"2017-10-13 12:16","tags":["你知道什么叫绝望么"],"content":"\r\n\r\n绝望~~~\r\n\r\n各种证书全丢了...\r\n\r\n大学的学位证,毕业证,还有各种获奖证书,以及四级...\r\n\r\n搬家居然会把装这些东西的袋子放在窗帘下面!!! 一拉窗帘就遮住了!!! \r\n\r\n打电话回去问,保洁人员居然扔了..扔..扔了...被垃圾回收车拉去焚烧了.\r\n\r\n我居然也没想起!!! 果然是走得太匆忙了...\r\n\r\n已获知学位证补办极其麻烦.还好有证书编号,能在[学信网](http://www.chsi.com.cn)上查到.\r\n\r\n毕业证之类的...GG!","iso8601Date":"2017-10-13T12:16:00+08:00","basename":"18","prev":"1","next":"17"},{"title":"遇到的一个js的~~玄学~~问题","author":"skadi","date":"2017-10-13 11:08","tags":["JavaScript","玄学","Date","Sort"],"content":"\r\n\r\n整理这个posts的排序的时候遇到了一个~~玄学~~问题....\r\n\r\n`2017-05-23 15:54` 和 `2017-05-23 11:07`\r\n\r\n我的1.md和2.md的时间.\r\n但是莫名其妙的是 `2017-05-23 15:54` 排在 `2017-05-23 11:07` \r\n前面.\r\n\r\n然而我单独写了`test.js`拿来试md的时间的时候.又正常了.\r\n然而在我的网站的build脚本里面却怎么都不对.\r\n\r\nQWQ,找了半天发现是js的compare functor 的问题.\r\n\r\n写多了cpp,以为比较就两个值 `true` or `false`.\r\n\r\n所以就写成了\r\n```\r\nresults.sort((a, b) => {\r\n  return a>b;\r\n});\r\n```\r\n结果发现居然要返回`>0``<0``==0`三种情况.\r\n```\r\nresults.sort((a, b) => {\r\n    let ad = a.date;\r\n    let bd = b.date;\r\n    if (ad > bd)\r\n        return -1;\r\n    else if (ad < bd)\r\n        return 1;\r\n    else\r\n        return 0;\r\n})\r\n//时间倒序排\r\n```\r\n改了之后终于能正确按照时间排序了.","iso8601Date":"2017-10-13T11:08:00+08:00","basename":"17","prev":"18","next":"16"},{"title":"hello Shanghai","author":"skadi","date":"2017-10-11 23:30","tags":["上海","杂记"],"content":"\r\n\r\n离开成都来到了上海...唉,不知道怎么说.\r\n心情挺复杂的.还有工作到底找什么还没想好.\r\n\r\n明天开始找工作.坐了飞机到现在还是头晕.准备睡觉.\r\n\r\n~~good night~~","iso8601Date":"2017-10-11T23:30:00+08:00","basename":"16","prev":"17","next":"15"},{"title":"动态光晕效果","author":"skadi","date":"2017-09-16 13:10","tags":["qt","halo","光晕效果"],"content":"\r\n\r\n起因是因为看到 SAO游戏里面 button的光晕特效.我也想要~~~\r\n\r\n![](https://user-images.githubusercontent.com/9100799/30509331-e3fd14dc-9ae0-11e7-8da4-38e31424ab7c.jpg)\r\n![](https://user-images.githubusercontent.com/9100799/30509333-e3ff2ace-9ae0-11e7-832d-7f46d1346b40.jpg)\r\n\r\n类似这种呼吸灯的特效.\r\n\r\n摸了半天,只想到qtimer来定时调整alpha channel的值..\r\n\r\n做出来的效果如下:\r\n\r\n![](https://user-images.githubusercontent.com/9100799/30509330-e3fb17fe-9ae0-11e7-9137-b2f95d1d66af.png)\r\n![](https://user-images.githubusercontent.com/9100799/30509332-e3fd8c50-9ae0-11e7-9935-7c5c94fbe32a.png)\r\n\r\n只有外边框效果...然而SAO这里却是整体的widget都有...\r\n\r\n我继续尝试一下能不能用`QGraphicsOpacityEffect`或者`QGraphicsDropShadowEffect`或者其他自带的来画整体的.\r\n\r\n因为我这个方法有一个问题,设置圆角矩形的时候,圆角因为画线的原因.并不能完全填充.设置了反走样也没用.真是个蛋疼的问题.","iso8601Date":"2017-09-16T13:10:00+08:00","basename":"15","prev":"16","next":"14"},{"title":"一个无边框的qt的顶级窗口","author":"skadi","date":"2017-09-15 13:38","tags":["cpp","qt","window"],"content":"\r\n\r\n打算写个类似SAO风格的window,但是qt的顶级的window都有window窗口状态栏.\r\n使用`Qt::FramelessWindowHint`之后,鼠标事件之类的又没了.\r\n\r\n我只是希望有一个顶级窗口来作为容器.所以就自己写了一个.本来是有`QSizeGrip`\r\n可以\r\n\r\n来resize操作的,但是这样就有了一个右下角的瑕疵.所以还是自己重写了.\r\n\r\noverride了这些函数:\r\n```\r\nvoid mousePressEvent(QMouseEvent *event)override;\r\nvoid mouseReleaseEvent(QMouseEvent *event)override;\r\nvoid mouseDoubleClickEvent(QMouseEvent *event)override;\r\nvoid mouseMoveEvent(QMouseEvent *event)override;\r\n```\r\n\r\n写完了一对比,不行啊.我要的圆角呢.这窗口没圆角啊.又不想直接使用windowsAPI.\r\n然后又继续魔改`content`窗口.\r\n```\r\nsetAttribute(Qt::WA_TranslucentBackground);\r\n```\r\n设置顶级窗口透明,里面的`QWidget`再设置圆角`border-radius: 20px;`.\r\n不过遇到一个很迷的事情.`content`\r\n\r\n窗口的child是一个`QWidget`,如果不在这个widget的构造函数里面给他设置background,居然就直接全透了.\r\n\r\n`content`和它的child都透.而且,即使设置了`this->setObjectName(\"window\");`.在app.qss里面写\r\n```\r\nQWidget#window{\r\nbackground:transparent;\r\n}\r\n```\r\n也不顶用.必须在构造函数里写.本来不想这样写的.每次`setStyleSheet`都很慢.\r\n\r\no(︶︿︶)o 唉\r\n\r\n```\r\nexplicit content(QWidget* child=nullptr)noexcept;\r\n\r\n//如果要给一个login窗口\r\n//创建一个顶级窗口的容器的话.\r\n\r\nclass login{\r\n    content* ct;\r\n    //other code\r\n    login(){\r\n        ct=new content{this};\r\n        this->setObjectName(\"login\");\r\n        this->setStyleSheet(\"QWidget#login{\"\r\n                            \"background:transparent;\"\r\n                            \"}\"\r\n        );\r\n    }\r\n}\r\n\r\n//这个窗口就没有了状态栏\r\n//再给它设置`border-radius: 20px;`\r\n//那么它就有了圆角\r\n```\r\n\r\n![window](https://user-images.githubusercontent.com/9100799/30468681-2af80828-9a1f-11e7-8928-386397cd2a06.png)\r\n\r\n如图的qss如下\r\n\r\n```\r\nlogin{\r\n    background:#057FBA;\r\n    border-radius: 20px;\r\n    border: 5px solid #837F83;\r\n}\r\n```\r\n\r\n相关源码在这里\r\n\r\n[content.cpp](https://github.com/dongshimou/pp/blob/master/src/content.cpp)\r\n[content.h](https://github.com/dongshimou/pp/blob/master/src/content.h)\r\n\r\n[window.cpp](https://github.com/dongshimou/pp/blob/master/src/window.cpp)\r\n[window.h](https://github.com/dongshimou/pp/blob/master/src/window.h)","iso8601Date":"2017-09-15T13:38:00+08:00","basename":"14","prev":"15","next":"13"},{"title":"qss的一个小问题","author":"skadi","date":"2017-09-14 14:28","tags":["cpp","qt","qss"],"content":"\r\n\r\n好久没上线了,自从离职后天天赋闲在家.打游戏,写代码.感觉昏天黑地的.\r\n自写的游戏引擎感觉还是很搓.用了`glew`和`glfw`.然后又开了一个叫`pp`的项目.\r\n打算写个类是`shadow河蟹`的东西.然后又遇上<<刀剑神域:失落之歌>>上映了.又中了\r\nSAO的毒,开始想把这个写个相关的UI.很不幸,今天遇到了`qt`的一个神奇的问题.\r\n\r\n在qss中这么写\r\n```\r\nQPushButton#login_in:pressed{\r\n    border-image:url(./icon/icon/ok_normal.png);\r\n}\r\nQPushButton#login_in:hover{\r\n    border-image:url(./icon/icon/ok_hover.png);\r\n}\r\n```\r\n\r\n会遇到一个玄学问题,就是只会出现后面的`hover`效果.`pressed`效果被吞了...\r\n\r\n然而只需要在qss文件中将 `:hover`写在`:pressed`之前,两个效果就有了.这算是\r\nbug吧~~\r\n","iso8601Date":"2017-09-14T14:28:00+08:00","basename":"13","prev":"14","next":"12"},{"title":"竟然有这种操作","author":"skadi","date":"2017-07-22 08:30","tags":["c++","函数指针","这种操作"],"content":"\r\n\r\n写这个起因是因为在写qt的时候,有个界面上同一个位置有不同\r\n`Widget`,但是槽都是一样的,而且都是同一个类派生出来的\r\n\r\n然后我写了一个模板去`InitRightLayout`,在接受信号的我\r\n用一个lambda去包裹了一下这个槽,然后被说多次一举.\r\n\r\n举个例子:\r\n\r\n```\r\n//widget a 有一个 onTimeOut\r\n//widget b 继承于a,重写了 onTimeOut\r\n//在模板中\r\ntemplate<class T>\r\nvoid InitRightLayout(T* cap){\r\n    //...\r\n    connect(m_timer,&QTimer::timeout,\r\n    this,[=](){\r\n        onTimeOut();\r\n    });\r\n    //...\r\n}\r\n```\r\n告诉我可以直接写成 `connect(m_timer,&QTimer::timeout,this,&a::onTimeOut)`. \r\n\r\nQWQ,还有这种操作,不怕全调用了a的`onTimeOut`么?然后我测试了一下\r\n\r\n```\r\nclass AAA :public QWidget {\r\npublic:\r\n    AAA(QWidget*parent = nullptr) :QWidget(parent) { init(); };\r\n    virtual void onTest() { qDebug() << \"AAA\"; }\r\n    void init() {\r\n        auto t = new QTimer{ this };\r\n        connect(t, &QTimer::timeout, this, &AAA::onTest);\r\n        t->start(1000);\r\n    }\r\n};\r\nclass BBB :public AAA {\r\npublic:\r\n    BBB(QWidget*parent = nullptr) :AAA(parent) { };\r\n    virtual void onTest()override { qDebug() << \"BBB\"; }\r\n};\r\n```\r\n\r\n真的是输出`BBB`,`AAA::onTest`只是一个虚地址啊,学习了.最后写了一个demo来学习一下.\r\n\r\n```\r\n#include <iostream>\r\nusing namespace std;\r\n\r\nstruct AAA {\r\n    virtual void func() { cout << \"AAA\" << endl; }\r\n};\r\n\r\nstruct BBB : AAA {\r\n    virtual void func() override { cout << \"BBB\" << endl; }\r\n};\r\n\r\nvoid run(AAA *s, void (AAA::*const f)(void)) {\r\n    (s->*f)();\r\n    return;\r\n}\r\nint main() {\r\n    AAA a;\r\n    BBB b;\r\n    constexpr const auto f = &AAA::func;\r\n    run(&a, f);\r\n    run(&b, f);\r\n    cin.get();\r\n    return 0;\r\n}\r\n```","iso8601Date":"2017-07-22T08:30:00+08:00","basename":"12","prev":"13","next":"11"},{"title":"许久没有写了,我需要发泄","author":"skadi","date":"2017-07-12 19:00","tags":["any"],"content":"\r\n\r\n最近好累,我很不想喷的,但是!不给安空调什么鬼啊.\r\n顶着30+的高温写代码???\r\n\r\n还有什么必须答\"好\"?\"不能装作听不到\"!!!\r\nEXM??? 我感觉我进了一个假的互联网公司.\r\n\r\n最近不仅热气爆棚,怨气怒气也爆棚了.\r\n","iso8601Date":"2017-07-12T19:00:00+08:00","basename":"11","prev":"12","next":"10"},{"title":"我是个撒币","author":"skadi","date":"2017-06-05 17:00","tags":["cpp"],"content":"\r\n\r\n我真是个撒币,可以`nth_element`,可以二分的,我弄了个sort.\r\nlinklist写出段错误,一方面是因为太久没写,一方面是因为不细心,\r\n还有就是webide调试不便.\r\n\r\nlambda的递归居然忘了`[&]`,还有各种撒比的犯错,一个简单的东西\r\n搞得自己表现得像个小丑.更撒比的是开头把话说满了!我真是个辣鸡.\r\n\r\n###谨记这次撒币行为","iso8601Date":"2017-06-05T17:00:00+08:00","basename":"10","prev":"11","next":"9"},{"title":"javascript的坑","author":"skadi","date":"2017-05-31 09:01","tags":["javascript","for"],"content":"\r\n\r\n在给我的`post`添加`next`和`prev`的时候\r\n写了一句:\r\n\r\n```\r\n...\r\narr[i].next=arr[i+1].basename\r\n...\r\narr[i].prev=arr[i-1].basename\r\n```\r\n\r\n一个`arr[i+1]`竟然是`undefine`.\r\n明明我判断过 `i==arr.length-1`\r\n\r\n赶紧把`i`打印出来,结果发现没错啊`i=0`\r\n而且`arr.length`是肯定大于1的啊.\r\n\r\n赶紧把`i`和`i+1`打印出来...结果\r\n\r\n`i` = `0` 然而发现\r\n`i+1` = `01`\r\n\r\nWTF??? `for(let i in arr)`的\r\n`i`的类型是`string`??exm???\r\n心里cnm奔腾...","iso8601Date":"2017-05-31T09:01:00+08:00","basename":"9","prev":"10","next":"8"},{"title":"markdown to html 的小问题2","author":"skadi","date":"2017-05-27 09:11","tags":["markdown","html","vue","html history"],"content":"\r\n\r\n在dev的时候发现tohtml后的html依然存在md锚点不正确的情况\r\n\r\n瞄了一眼url,瞬间明白了...vue使用了#,所以这锚点还怎么搞嘛\r\n\r\n只能去改 vue的router 配置了.资料:\r\n[vue router(html5 history)](https://router.vuejs.org/zh-cn/essentials/history-mode.html)\r\n介绍.\r\n\r\n改了router,但是这个东西...需要后端配置,只能试试github.io能不能支持了.\r\n\r\n~~话说我的404页面还没写...~~","iso8601Date":"2017-05-27T09:11:00+08:00","basename":"8","prev":"9","next":"7"},{"title":"markdown to html 的小问题","author":"skadi","date":"2017-05-27 09:00","tags":["markdown","html"],"content":"\r\n\r\n我的这个io站用了`var markdown = require('markdown').markdown;`\r\n的`markdown.toHTML`方法,然而发现导出的html其实是有问题的.\r\n\r\n > 比如这种引用块都没有加上`blockquote`\r\n\r\n还有就是类似 `[update](#update1)我是更新链接` 这种在tohtml\r\n后并没有生成正确的href.\r\n\r\n至于其他的bug什么的,暂时还没有发现.\r\n\r\n于是我就换了`showdown`,测试了一下发现正常了.果断换用.","iso8601Date":"2017-05-27T09:00:00+08:00","basename":"7","prev":"8","next":"6"},{"title":"记一次煞笔行为","author":"skadi","date":"2017-05-26 17:00","tags":["qt","qtchart","f**k"],"content":"\r\n\r\n\r\n\r\n--- \r\n[2017/05/26 20:00](#update1)更新\r\n\r\n---\r\n\r\n### fuck qtchart!!!\r\n\r\n写得`radarChart`继承于`QChartView`\r\n\r\n然后f**k的事情来了.各种设置背景色失败.\r\n\r\n```\r\nm_viewer->setBackgroundBrush(Qt::red);\r\n```\r\n\r\n结果就是一个红色边框\r\n\r\n```\r\nm_viewer->chart()->setBackgroundBrush(Qt::red);\r\n```\r\n\r\n结果就是啥都没有\r\n\r\n最后,实在没法,新建了一个demo,直接挨个套.\r\nf**k的事情出现了,设置背景成功了...\r\n一模一样的代码...\r\n\r\n最后,我在自己定义的`randarChart`内部调用了一次\r\n```\r\nchart()->setBackgroundBrush(Qt::red)\r\n```\r\n也行? WTF???\r\n\r\n最后我发现我在内部调用的时候是写在`setChart(xxx)`之后的.\r\n\r\n而外面调用时写在`setChart(xxx)`之前的.\r\n\r\n话说一个`QChartView`在没有`setChart()`之前调用`Chart()`来获取其`chart`难道不应该直接`assert(chart!=nullptr)`么?\r\n\r\n虽然我是自己傻逼造成的这个问题,qt难道不是加这么个一条来进行处理么?\r\n\r\n### update1\r\n\r\n看了源码,结果发现在没有`setChart()`的时候默认是`new`的一个,在`setChart()`的时候,原来的会`memmove`,但是居然要求手动`release`!! WTF???\r\n > To avoid memory leaks users need to make sure the previous chart is deleted.\r\n\r\nWTF???\r\n\r\n[setChart](https://doc.qt.io/qt-5/qchartview.html#setChart)的文档,简直有点无法理解啊.","iso8601Date":"2017-05-26T17:00:00+08:00","basename":"6","prev":"7","next":"5"},{"title":"辣鸡电信","author":"skadi","date":"2017-05-25 20:00","tags":["proxy","npm","git","gfw"],"content":"\r\n\r\n### git和npm开proxy\r\n\r\n本来打算clone一个项目的,没想到家里电信真是卡出翔了.\r\n没办法只好给git设置proxy了.\r\n\r\n开代理\r\n\r\n```\r\ngit config --global http.proxy socks5://127.0.0.1:1080\r\ngit config --global https.proxy socks5://127.0.0.1:1080\r\n```\r\n\r\n关代理\r\n\r\n```\r\ngit config --global --unset http.proxy\r\ngit config --global --unset https.proxy\r\n```\r\n\r\n结果发现我的`npm i`又奇慢无比...\r\n\r\n```\r\nnpm config set proxy http://127.0.0.1:1080 --global\r\nnpm config set https-proxy http://127.0.0.1:1080 --global\r\n```\r\n\r\n```\r\nnpm config delete proxy\r\n```\r\n~~不想使用taobao的源,就这样吧~~","iso8601Date":"2017-05-25T20:00:00+08:00","basename":"5","prev":"6","next":"4"},{"title":"写qt写qt写qt","author":"skadi","date":"2017-05-24 19:00","tags":["日常","qt","radar","cpp"],"content":"\r\n\r\n突然又有了雷达图的需求...这一天三改真是够了!!!\r\nqt没有现成的雷达图,chartdir有,但是并不能在手机上弄.\r\n现在又非要考虑手机平台,只好用qt搞一个了.\r\n其实也说不上搞一个,有一个`QPolarChart`,再封装一下就行了.\r\n主要是需求也不确定,每次都是\"诶!,我觉得这样不错,改一下.\".\r\n###WTF!!!","iso8601Date":"2017-05-24T19:00:00+08:00","basename":"4","prev":"5","next":"3"},{"title":"继续修改主页","author":"skadi","date":"2017-05-24 08:00","tags":["日常","改主页","todo"],"content":"\r\n\r\n把`post`的位置放在static.\r\n然后把`resume.md`的位置腾出来了.\r\n等到周末去把简历放上去,然后还要发给逸国的dalao.\r\n\r\n### 本周 todo\r\n\r\n* 周末写简历\r\n* resume的页面\r\n* c++1z的跟进\r\n\r\n哦,想起来dota2本子的任务还没搞.\r\n算了,晚上好像没时间打了,周末再说.","iso8601Date":"2017-05-24T08:00:00+08:00","basename":"3","prev":"4","next":"2"},{"title":"posts测试","author":"skadi","date":"2017-05-23 15:54","tags":["日常","无聊"],"content":"\r\n\r\n文章首页显示最新的三个\r\nflex布局话说也用不上,反正都是竖着的.","iso8601Date":"2017-05-23T15:54:00+08:00","basename":"2","prev":"3","next":"1"},{"title":"又是一个无聊的日子","author":"skadi","date":"2017-05-23 11:07","tags":["日常","无聊"],"content":"\r\n\r\n## 不知道写啥\r\n\r\n反正就是有点无聊.\r\n\r\n顺便弄了 `markdown to json`\r\n\r\n话说还要把简历也放上去,个人的web也还没弄好.Orz\r\n\r\n每天12个小时的上班也是够了! 下班回去就只想躺下.\r\n\r\n就算强打着精神打打游戏,写写代码.也是困得不行.\r\n\r\n哎. ","iso8601Date":"2017-05-23T11:07:00+08:00","basename":"1","prev":"2","next":"18"}]